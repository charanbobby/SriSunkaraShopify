<script src="https://cdn.tailwindcss.com" defer></script>

<div class="ss-landing font-sans bg-[#F9F7F5] pb-20">
  {% comment %} HERO SECTION {% endcomment %}
  <div class="relative w-full h-[600px] md:h-[700px] bg-gray-200">
    {% if section.settings.hero_image != blank %}
      {{
        section.settings.hero_image
        | image_url: width: 2000
        | image_tag: class: 'w-full h-full object-cover', loading: 'eager'
      }}
    {% else %}
      {{ 'lifestyle-1' | placeholder_svg_tag: 'w-full h-full object-cover text-gray-400' }}
    {% endif %}

    <div class="absolute inset-y-0 right-0 w-full md:w-1/2 flex items-center justify-center p-8 md:p-16 bg-white/0">
      <div class="bg-white/90 p-10 md:p-14 rounded-sm shadow-sm max-w-lg backdrop-blur-sm">
        <h1 class="text-3xl md:text-5xl font-serif text-gray-900 mb-6 leading-tight">
          {{ section.settings.hero_heading | default: 'Introducing the Best Bed-In-A-Box Canada Has to Offer' }}
        </h1>
        <p class="text-gray-600 text-base md:text-lg mb-8 leading-relaxed">
          {{
            section.settings.hero_subtext
            | default: "Meticulously designed with premium materials, we're proud to bring you Canada's top rated mattress directly to your home."
          }}
        </p>
        <a
          href="{{ section.settings.hero_cta_link | default: '#' }}"
          class="inline-block bg-[#1C2E36] text-white px-8 py-4 font-medium hover:bg-black transition-colors"
        >
          {{ section.settings.hero_cta_text | default: 'Compare Our Mattresses' }}
        </a>
      </div>
    </div>
  </div>

  {% comment %} PROMO BAR & BUNDLE {% endcomment %}
  <div class="py-12 bg-[#F9F7F5] text-center border-b border-gray-200">
    <div class="bg-black text-white py-2 mb-8">
      <div class="flex flex-col md:flex-row justify-center items-center gap-4 text-sm font-bold uppercase tracking-widest">
        <span>Cyber Week Offer: 10% Off Mattresses</span>
        <span class="hidden md:inline">|</span>
        <div class="flex gap-4">
          <span class="countdown-timer">0 DAYS</span>
          <span class="countdown-timer">19 HRS</span>
          <span class="countdown-timer">59 MINS</span>
          <span class="countdown-timer">39 SECS</span>
        </div>
      </div>
    </div>

    <h2 class="text-2xl md:text-3xl font-serif text-gray-800 mb-2">
      {{ section.settings.promo_heading | default: 'Buy an S&S or Hybrid Mattress, Get a FREE Classic Sleep Bundle' }}
    </h2>
    <p class="text-gray-600 italic mb-8">
      Bundle Includes: Cotton fitted sheet & pillowcase set, Microfibre Duvet, Microfibre Pillow(s), and a Mattress
      Protector
    </p>

    <div class="flex justify-center flex-wrap gap-8 my-8">
      <div class="flex flex-col items-center w-32">
        <div class="w-16 h-16 bg-gray-200 rounded-full mb-2 flex items-center justify-center text-xs text-gray-500">
          Sheet
        </div>
        <span class="text-xs font-bold uppercase">Cotton Sheets</span>
      </div>
      <div class="text-2xl text-gray-300 self-center">+</div>
      <div class="flex flex-col items-center w-32">
        <div class="w-16 h-16 bg-gray-200 rounded-full mb-2 flex items-center justify-center text-xs text-gray-500">
          Duvet
        </div>
        <span class="text-xs font-bold uppercase">Microfibre Duvet</span>
      </div>
      <div class="text-2xl text-gray-300 self-center">+</div>
      <div class="flex flex-col items-center w-32">
        <div class="w-16 h-16 bg-gray-200 rounded-full mb-2 flex items-center justify-center text-xs text-gray-500">
          Pillow
        </div>
        <span class="text-xs font-bold uppercase">Microfibre Pillow</span>
      </div>
      <div class="text-2xl text-gray-300 self-center">+</div>
      <div class="flex flex-col items-center w-32">
        <div class="w-16 h-16 bg-gray-200 rounded-full mb-2 flex items-center justify-center text-xs text-gray-500">
          Protector
        </div>
        <span class="text-xs font-bold uppercase">Mattress Protector</span>
      </div>
    </div>
  </div>

  {% comment %} MATTRESS COMPARISON GRID {% endcomment %}
  <div class="max-w-[1400px] mx-auto px-4 md:px-8 py-10">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      {% for block in section.blocks %}
        {% if block.type == 'mattress_card' %}
          <div class="bg-white p-6 rounded-sm shadow-sm flex flex-col h-full border border-gray-100 relative group hover:shadow-md transition-shadow">
            <div class="absolute top-0 left-0 w-full bg-[#F2EBDE] text-center text-xs font-bold uppercase py-1 tracking-widest text-[#1C2E36]">
              FREE Sleep Bundle Included
            </div>

            <div class="mt-8 mb-4 relative h-56 bg-white flex items-center justify-center">
              {% if block.settings.product_image != blank %}
                {{
                  block.settings.product_image
                  | image_url: width: 600
                  | image_tag: class: 'max-h-full w-auto object-contain'
                }}
              {% else %}
                {{ 'product-1' | placeholder_svg_tag: 'w-full h-full text-gray-200' }}
              {% endif %}
            </div>

            <h3 class="text-2xl font-serif text-gray-900 mb-1">{{ block.settings.title }}</h3>

            <div class="flex gap-2 mb-2 text-xs font-bold uppercase tracking-wider text-gray-400">
              <span class="{% if block.settings.firmness == 'firm' %}text-black{% endif %}">Firm</span>
              <span class="{% if block.settings.firmness == 'medium' %}text-black{% endif %}">Medium-Firm</span>
              <span class="{% if block.settings.firmness == 'plush' %}text-black{% endif %}">Plush</span>
            </div>

            <p class="text-sm font-bold text-gray-900 mb-4">Starting at {{ block.settings.price | default: '$600' }}</p>

            <p class="text-gray-600 text-sm mb-6 min-h-[48px]">{{ block.settings.description }}</p>

            <div class="space-y-4 mb-6 text-sm text-gray-600 border-t border-gray-100 pt-4">
              <div>
                <span class="font-bold block mb-1">Firmness</span>
                <div class="flex space-x-1">
                  {% assign firm_score = block.settings.firmness_score | default: 3 %}
                  {% for i in (1..5) %}
                    <div class="w-full h-1.5 rounded-full bg-gray-200">
                      <div class="h-full bg-[#D4AF37] opacity-{% if i <= firm_score %}100{% else %}0{% endif %}"></div>
                    </div>
                  {% endfor %}
                </div>
              </div>

              <div class="grid grid-cols-2 gap-4">
                <div>
                  <span class="font-bold block mb-1">Motion Transfer</span>
                  <span class="text-xs leading-tight block">
                    {{- block.settings.motion_text | default: 'Minimal motion layout' -}}
                  </span>
                </div>
                <div>
                  <span class="font-bold block mb-1">Support</span>
                  <span class="text-xs leading-tight block">
                    {{- block.settings.support_text | default: 'Zoned Support' -}}
                  </span>
                </div>
              </div>

              <div class="bg-gray-50 p-3 rounded text-xs">
                <span class="font-bold block mb-1 text-[#1C2E36]">Recommended if...</span>
                <p>{{ block.settings.recommendation | default: 'You enjoy a classic feel.' }}</p>
              </div>
            </div>

            <div class="mt-auto">
              <a
                href="{{ block.settings.product_url }}"
                class="block w-full text-center bg-[#1C2E36] text-white py-3 uppercase tracking-wider font-bold text-sm hover:bg-black transition"
              >
                Shop {{ block.settings.title }}
              </a>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>

  {% comment %} VALUE PROPS / ICONS {% endcomment %}
  <div class="bg-[#F2EFEA] py-16 mt-12">
    <div class="max-w-6xl mx-auto px-6 grid grid-cols-2 md:grid-cols-4 gap-8">
      {% for block in section.blocks %}
        {% if block.type == 'feature_item' %}
          <div class="flex flex-col items-start">
            {% if block.settings.icon != blank %}
              {{ block.settings.icon | image_url: width: 60 | image_tag: class: 'w-12 h-12 mb-4 object-contain' }}
            {% else %}
              <div class="w-12 h-12 rounded-full border-2 border-gray-400 mb-4 flex items-center justify-center text-gray-400">
                ?
              </div>
            {% endif %}
            <h4 class="font-bold text-gray-900 mb-2">{{ block.settings.title }}</h4>
            <p class="text-sm text-gray-600 leading-relaxed">{{ block.settings.text }}</p>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>

  {% comment %} ALTERNATING CONTENT ROWS {% endcomment %}
  <div class="py-16 bg-white">
    {% for block in section.blocks %}
      {% if block.type == 'content_row' %}
        <div class="max-w-7xl mx-auto px-6 mb-24 last:mb-0">
          <div class="flex flex-col md:flex-row items-center gap-12 {% if block.settings.image_position == 'right' %}md:flex-row-reverse{% endif %}">
            <div class="w-full md:w-3/5">
              {% if block.settings.image != blank %}
                {{
                  block.settings.image
                  | image_url: width: 1200
                  | image_tag: class: 'w-full h-auto rounded-sm shadow-sm'
                }}
              {% else %}
                {{ 'lifestyle-2' | placeholder_svg_tag: 'w-full h-[400px] bg-gray-100' }}
              {% endif %}
            </div>
            <div class="w-full md:w-2/5">
              <h3 class="text-2xl md:text-3xl font-serif text-[#1C2E36] mb-4">{{ block.settings.heading }}</h3>
              <div class="h-1 w-16 bg-[#1C2E36] mb-6"></div>
              <div class="text-gray-600 leading-relaxed mb-6 space-y-4">
                {{ block.settings.content }}
              </div>
              {% if block.settings.cta_text != blank %}
                <a
                  href="{{ block.settings.cta_link }}"
                  class="text-[#1C2E36] font-bold uppercase tracking-wider border-b-2 border-[#1C2E36] pb-1 hover:text-black"
                >
                  {{ block.settings.cta_text }}
                </a>
              {% endif %}
            </div>
          </div>
        </div>
      {% endif %}
    {% endfor %}
  </div>
</div>

{% schema %}
{
  "name": "SS Landing Page",
  "settings": [
    {
      "type": "header",
      "content": "Hero Section"
    },
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "Hero Image"
    },
    {
      "type": "text",
      "id": "hero_heading",
      "label": "Hero Heading",
      "default": "Introducing the Best Bed-In-A-Box Canada Has to Offer"
    },
    {
      "type": "textarea",
      "id": "hero_subtext",
      "label": "Hero Subtext",
      "default": "Made using only the highest quality materials, our celebrated mattresses promote thoughtful manufacturing and transparency while delivering the dreamiest sleep experience possible."
    },
    {
      "type": "text",
      "id": "hero_cta_text",
      "label": "Button Text",
      "default": "Compare Our Mattresses"
    },
    {
      "type": "url",
      "id": "hero_cta_link",
      "label": "Button Link"
    },
    {
      "type": "header",
      "content": "Promo Bar"
    },
    {
      "type": "text",
      "id": "promo_heading",
      "label": "Promo Heading",
      "default": "Free Sleep Bundle Included with Mattress Purchase"
    },
    {
      "type": "image_picker",
      "id": "promo_icon_1",
      "label": "Promo Icon 1"
    },
    {
      "type": "text",
      "id": "promo_text_1",
      "label": "Promo Text 1",
      "default": "Free Shipping & Returns"
    },
    {
      "type": "image_picker",
      "id": "promo_icon_2",
      "label": "Promo Icon 2"
    },
    {
      "type": "text",
      "id": "promo_text_2",
      "label": "Promo Text 2",
      "default": "100 Night Trial"
    },
    {
      "type": "image_picker",
      "id": "promo_icon_3",
      "label": "Promo Icon 3"
    },
    {
      "type": "text",
      "id": "promo_text_3",
      "label": "Promo Text 3",
      "default": "15 Year Warranty"
    },
    {
      "type": "image_picker",
      "id": "promo_icon_4",
      "label": "Promo Icon 4"
    },
    {
      "type": "text",
      "id": "promo_text_4",
      "label": "Promo Text 4",
      "default": "Made in Canada"
    }
  ],
  "blocks": [
    {
      "type": "mattress_card",
      "name": "Mattress Product",
      "limit": 3,
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Product Title",
          "default": "S&S Mattress"
        },
        {
          "type": "image_picker",
          "id": "product_image",
          "label": "Product Image"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Short Description",
          "default": "The memory foam mattress you know and love."
        },
        {
          "type": "text",
          "id": "price",
          "label": "Starting Price",
          "default": "$600"
        },
        {
          "type": "select",
          "id": "firmness",
          "label": "Firmness Label",
          "options": [
            { "value": "firm", "label": "Firm" },
            { "value": "medium", "label": "Medium-Firm" },
            { "value": "plush", "label": "Plush" }
          ],
          "default": "medium"
        },
        {
          "type": "range",
          "id": "firmness_score",
          "min": 1,
          "max": 5,
          "step": 1,
          "label": "Firmness Score (1-5)",
          "default": 3
        },
        {
          "type": "textarea",
          "id": "recommendation",
          "label": "Recommended If...",
          "default": "You enjoy the classic enveloping feel of memory foam."
        },
        {
          "type": "text",
          "id": "motion_text",
          "label": "Motion Transfer Text"
        },
        {
          "type": "text",
          "id": "support_text",
          "label": "Support Text"
        },
        {
          "type": "url",
          "id": "product_url",
          "label": "Product Link"
        }
      ]
    },
    {
      "type": "feature_item",
      "name": "Feature Icon",
      "limit": 4,
      "settings": [
        {
          "type": "image_picker",
          "id": "icon",
          "label": "Icon"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "15 Year Warranty"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Description",
          "default": "We offer the best warranty in the industry."
        }
      ]
    },
    {
      "type": "content_row",
      "name": "Image + Text Row",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "select",
          "id": "image_position",
          "label": "Image Position",
          "options": [
            { "value": "left", "label": "Left" },
            { "value": "right", "label": "Right" }
          ],
          "default": "left"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Better Materials, Better Sleep"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Content"
        },
        {
          "type": "text",
          "id": "cta_text",
          "label": "Link Text"
        },
        {
          "type": "url",
          "id": "cta_link",
          "label": "Link URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "SS Landing Page",
      "blocks": [
        { "type": "mattress_card" },
        { "type": "mattress_card" },
        { "type": "mattress_card" },
        { "type": "feature_item" },
        { "type": "feature_item" },
        { "type": "feature_item" },
        { "type": "feature_item" },
        { "type": "content_row" },
        { "type": "content_row" }
      ]
    }
  ]
}
{% endschema %}
